{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 1ab84d1374aba1b57e5c","webpack:///external \"@angular/core\"","webpack:///./src/services/ga.service.ts","webpack:///./src/models/watch.model.ts","webpack:///./src/models/measure.model.ts","webpack:///./src/services/twapi.service.ts","webpack:///external \"@angular/forms\"","webpack:///./src/directives/clock/moon-phases/moon-phases.component.ts","webpack:///./src/directives/global-validator.ts","webpack:///./src/models/blog-post.model.ts","webpack:///./src/models/user.model.ts","webpack:///./src/pipes/arethmetic-sign.pipe.ts","webpack:///./src/pipes/k-formatter.pipe.ts","webpack:///./src/pipes/leading-zero.pipe.ts","webpack:///external \"@angular/http\"","webpack:///./index.ts","webpack:///./src/directives/clock/clock.component.ts","webpack:///./src/directives/login/login.component.ts","webpack:///./src/directives/signup/signup.component.ts","webpack:///./src/directives/watch/watch.component.ts","webpack:///./src/helpers/string.helper.ts","webpack:///./src/models/model.factory.ts","webpack:///external \"@angular/platform-browser\"","webpack:///external \"rxjs/Rx\"","webpack:///./tw-core.ts"],"names":[],"mappings":"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","file":"tw-core.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"), require(\"@angular/forms\"), require(\"@angular/http\"), require(\"@angular/platform-browser\"), require(\"rxjs/Rx\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\", \"@angular/forms\", \"@angular/http\", \"@angular/platform-browser\", \"rxjs/Rx\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"tw-core\"] = factory(require(\"@angular/core\"), require(\"@angular/forms\"), require(\"@angular/http\"), require(\"@angular/platform-browser\"), require(\"rxjs/Rx\"));\n\telse\n\t\troot[\"tw-core\"] = factory(root[\"@angular/core\"], root[\"@angular/forms\"], root[\"@angular/http\"], root[\"@angular/platform-browser\"], root[\"rxjs/Rx\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_21__, __WEBPACK_EXTERNAL_MODULE_22__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1ab84d1374aba1b57e5c","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/core\"\n// module id = 0\n// module chunks = 0","import { Injectable } from '@angular/core';\ndeclare let ga:any;\n\n@Injectable()\nexport class GAService {\n\n  public static appName:string;\n  public static appVersion:string;\n  public static userName:string;\n  public static userEmail:string;\n  private static gaCreated:boolean = false;\n\n\n\n  private static spawn(){\n\n      if(!GAService.gaCreated){\n        var currdate : any = new Date();\n        var gaNewElem : any = {};\n        var gaElems : any = {};\n\n        /* tslint:disable:no-string-literal */\n        /* tslint:disable:semicolon */\n        /* tslint:disable:no-unused-expression */\n        // This code is from Google, so let's not modify it too much, just add gaNewElem and gaElems:\n\n        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*currdate;a=s.createElement(o),\n        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga', gaNewElem, gaElems);\n        \n        /* tslint:enable:no-unused-expression */\n        /* tslint:enable:semicolon */\n        /* tslint:enable:no-string-literal */\n        ga('create', 'UA-59148878-1', 'app.toolwatch.io');\n        GAService.gaCreated = true;\n      }\n  }\n\n  public static event(eventCategory:string, eventAction:string, eventLabel:string='', eventValue:number=0){\n    GAService.spawn();\n    ga('send', 'event', eventCategory, eventAction, eventLabel, eventValue);\n  }\n\n  public static screenview(screenName:string){\n\n    //appVersion and appName are handled by ionic-native promises on mobile\n    //In case the promises are still working, we timeout the call by 1s.\n    if(GAService.appName == undefined || GAService.appVersion == undefined){\n        console.log(\"GAService isn't configured yet. Postponing call\", GAService.appName, GAService.appVersion);\n        setTimeout(()=>{\n          GAService.screenview(screenName);\n        }, 1000);\n    }else{\n      GAService.spawn();\n      ga('send', 'screenview', {\n        'appName': GAService.appName,\n        'appVersion': GAService.appVersion,\n        'screenName': screenName\n      });\n    }\n  }\n\n  public static pageview(page:string){\n    GAService.spawn();\n    ga('set', 'page', page);\n    ga('send', 'pageview')\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/ga.service.ts","import { Measure, MeasureStatus } from './measure.model'\n\nexport class Watch{\n\tid:number;\n\tbrand:string;\n\thistorySize:number;\n\tmeasures:Measure[];\n\tname:string;\n\tyearOfBuy:number;\n\tserial:string;\n\tcaliber:string;\n\tstatus: WatchStatus;\n\tnext: WatchAction;\n\twaiting:number;\n\tinitials:string;\n\n\tconstructor(id: number, brand: string, historySize: number = 0,\n\t\tmeasures: Measure[] = [], name: string = \"\", yearOfBuy: number = null,\n\t\tserial: string = \"\", caliber: string = \"\") {\n\n\t\tthis.id = id;\n\t\tthis.brand = brand;\n\t\tthis.historySize = historySize;\n\t\tthis.measures = measures.sort(function(a:Measure, b:Measure){\n\t\t\treturn a.id - b.id;\n\t\t});\n\t\tthis.name = name;\n\t\tif(yearOfBuy != 0){\n\t\t\tthis.yearOfBuy = yearOfBuy;\n\t\t}\n\t\tthis.serial = serial;\n\t\tthis.caliber = caliber;\n\t\tthis.initials = (this.brand != null && this.brand.length > 0) ? this.brand.charAt(0) : \"\";\n\t\tthis.initials += (this.name.length > 0) ? this.name.charAt(0) : \"\";\n\n\t\tif (historySize == 0){\n\t\t\tthis.status = WatchStatus.NeverMeasured;\n\t\t\tthis.next = WatchAction.Measure;\n\t\t}else if(historySize > this.measures.length){\n\t\t\tthis.status = WatchStatus.HaveMoreMeasures;\n\t\t}\n\n\t\tthis.computeNext();\n\t}\n\n\tcomputeNext(){\n\t\tlet lastMeasure = this.currentMeasure();\n\t\tif (lastMeasure !== null \n\t\t\t&& lastMeasure.status & MeasureStatus.BaseMeasure){\n\t\t\t\n\t\t\tif (Math.abs((lastMeasure.measureUserTime - Date.now()/1000)/3600) < 12){\n\t\t\t\tthis.next = WatchAction.Waiting;\n\t\t\t\tthis.waiting = Math.round(12 - Math.abs((lastMeasure.measureUserTime - Date.now()/1000)/3600));\n\t\t\t}else if(!(lastMeasure.status & MeasureStatus.AccuracyMeasure)) {\n\t\t\t\tthis.next = WatchAction.Accuracy;\n\t\t\t}else{\n\t\t\t\tthis.next = WatchAction.Measure;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic toString = () : string => {\n\t\treturn `Watch (id: ${this.id},\n\t\t\t\tbrand: ${this.brand},\n\t\t\t\thistorySize: ${this.historySize},\n\t\t\t\tmeasures: ${this.measures},\n\t\t\t\tname: ${this.name},\n\t\t\t\tyearOfBuy: ${this.yearOfBuy},\n\t\t\t\tserial: ${this.serial},\n\t\t\t\tcaliber: ${this.caliber},\n\t\t\t\tstatus: ${this.status},\n\t\t\t\tnext: ${this.next},\n\t\t\t\twaiting: ${this.waiting})`;\n\t}\n\n\taverage(amount:number){\n\n\t\tlet actualAmount:number = 0;\n\t\tlet average:number = 0;\n\t\tlet i:number = this.measures.length - 1;\n\n\t\twhile(i>= 0 && actualAmount <= amount){\n\t\t\tif(this.measures[i].status & MeasureStatus.AccuracyMeasure){\n\t\t\t\taverage = average + Math.abs(this.measures[i].accuracy);\n\t\t\t\tactualAmount++;\n\t\t\t}\n\t\t\t\n\t\t\ti--;\n\t\t\t\n\t\t}\n\t\treturn (average/actualAmount).toFixed(1);\n\t}\n\n\tlastCompleteMeasure():Measure{\n\t\tlet i:number = this.measures.length - 1;\n\n\t\twhile(i >= 0){\n\t\t\tif(this.measures[i].status & MeasureStatus.AccuracyMeasure){\n\t\t\t\treturn this.measures[i];\n\t\t\t}\n\t\t\t\n\t\t\ti--;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tcurrentMeasure():Measure{\n\t\tif(this.measures.length !== 0){\n\t\t\treturn this.measures[this.measures.length - 1];\n\t\t}else{\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tupsertMeasure(measure:Measure){\n\n\t\tfor (var i = 0; i < this.measures.length; i++) {\n\t\t\tconsole.log(\"i\", i);\n\t\t\tif(this.measures[i].id == measure.id){\n\t\t\t\tthis.measures[i] = measure;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tthis.historySize++;\n\t\tthis.measures.push(measure);\n\t}\n\n\tclone():Watch{\n\t\treturn new Watch(\n\t\t\tthis.id,\n\t\t\tthis.brand,\n\t\t\tthis.historySize,\n\t\t\tthis.measures,\n\t\t\tthis.name,\n\t\t\tthis.yearOfBuy,\n\t\t\tthis.serial,\n\t\t\tthis.caliber\n\t\t);\n\t}\n}\n\nexport enum WatchAction{\n\tMeasure, Waiting, Accuracy\n}\n\nexport enum WatchStatus{\n\tNeverMeasured,\n\tHaveMoreMeasures\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/watch.model.ts","export class Measure{\n\n\tid:number;\n\tmeasureUserTime:number;\n\tmeasureReferenceTime:number;\n\taccuracyUserTime:number;\n\taccuracyReferenceTime:number;\n\taccuracy:number;\n\taccuracyAge:number;\n\tpercentile:number;\n\tstatus: MeasureStatus = MeasureStatus.None;\n\tserviced:boolean = false;\n\trenewed:boolean = false;\n\n\tconstructor(id: number, measureUserTime: number, measureReferenceTime: number, \n\t\tstatus?: number, accuracyUserTime?: number, accuracyReferenceTime?: number, \n\t\taccuracy?: number, accuracyAge?: number, percentile?: number){\n\n\t\tthis.id = id\n\t\tthis.measureUserTime = measureUserTime;\n\t\tthis.measureReferenceTime = measureReferenceTime;\n\t\tthis.accuracyUserTime = accuracyUserTime;\n\t\tthis.accuracyReferenceTime = accuracyReferenceTime;\n\t\tthis.accuracy = accuracy;\n\t\tthis.accuracyAge = accuracyAge;\n\t\tthis.percentile = Math.round(percentile*10)/10;\n\n\t\tif(status >= 1){\n\t\t\tthis.status |= MeasureStatus.BaseMeasure;\n\t\t}\n\n\t\tif(status >= 2){\n\t\t\tthis.status |= MeasureStatus.AccuracyMeasure;\n\t\t}\n\n\t\tif (status >= 3) {\n\t\t\tthis.status |= MeasureStatus.ArchivedMeasure;\n\t\t}\n\n\t\tif(accuracyAge > 30){\n\t\t\tthis.renewed = true;\n\t\t\tthis.status |= MeasureStatus.ShouldBeRenewed;\n\t\t}\n\n\t\tif(Math.abs(accuracy) > 20){\n\t\t\tthis.serviced = true;\n\t\t\tthis.status |= MeasureStatus.ShouldBeServiced;\n\t\t}\n\n\t\tthis.computePostAccuracyStatus(accuracy, accuracyAge);\n\t}\n\n\tpublic toString = () : string => {\n\t\treturn `Measure (id: ${this.id},\n\t\tmeasureUserTime: ${this.measureUserTime},\n\t\tmeasureReferenceTime: ${this.measureReferenceTime},\n\t\taccuracyUserTime: ${this.accuracyUserTime},\n\t\taccuracyReferenceTime: ${this.accuracyReferenceTime},\n\t\taccuracy: ${this.accuracy},\n\t\taccuracyAge: ${this.accuracyAge},\n\t\tpercentile: ${this.percentile},\n\t\tstatus: ${this.status})`;\n\t}\n\n\taddBaseMeasure(referenceTime:number, userTime:number){\n\t\tthis.measureReferenceTime = referenceTime;\n\t\tthis.measureUserTime = userTime;\n\t\tthis.status |= MeasureStatus.BaseMeasure;\n\t}\n\n\taddAccuracyMeasure(referenceTime: number, userTime: number) {\n\t\tthis.accuracyReferenceTime = referenceTime;\n\t\tthis.accuracyUserTime = userTime;\n\t\tthis.status |= MeasureStatus.AccuracyMeasure;\n\t}\n\n\taddAccuracy(accuracy:number, accuracyAge:number, percentile:number){\n\t\tconsole.log(\"addAccuracy\", accuracy,accuracyAge,percentile);\n\t\tthis.accuracy = accuracy;\n\t\tthis.accuracyAge = accuracyAge;\n\t\tthis.percentile = Math.round(percentile*10)/10;\n\t\tthis.computePostAccuracyStatus(accuracy, accuracyAge);\n\t}\n\n\tprivate computePostAccuracyStatus(accuracy:number, accuracyAge:number){\n\t\tif (accuracy != null && accuracyAge != null) {\n\t\t\tif (Math.abs(accuracy) > 20) {\n\t\t\t\tthis.status |= MeasureStatus.ShouldBeServiced;\n\t\t\t\tthis.serviced = true;\n\t\t\t}\n\n\t\t\tif (accuracyAge > 30) {\n\t\t\t\tthis.renewed = true;\n\t\t\t\tthis.status |= MeasureStatus.ShouldBeRenewed;\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport enum MeasureStatus{\n\tNone = 0,\n\tBaseMeasure = 1 << 0,\n\tAccuracyMeasure = 1 << 1,\n\tArchivedMeasure = 1 << 2,\n\tShouldBeRenewed = 1 << 3,\n\tShouldBeServiced = 1 << 4\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/measure.model.ts","import { Injectable } from '@angular/core';\nimport { Http, RequestOptions, Headers }  from '@angular/http';\n\n\nimport { User }  from './../models/user.model';\nimport { Watch, WatchAction }  from './../models/watch.model';\nimport { Measure }  from './../models/measure.model';\nimport { ModelFactory }  from './../models/model.factory';\nimport { BlogPost } from './../models/blog-post.model'\nimport { GAService } from './ga.service';\nimport { StringHelper } from './../helpers/string.helper';\nimport { Observable } from 'rxjs/Rx';\nimport 'rxjs/Rx';\n\n@Injectable()\n/**\n * Exposes the Toolwatch API.\n * Returns promeses on domain objects\n */\nexport class TwAPIService {\n\n\t/**\n\t * All the HTTP code used by the toolwatch API are defined here.\n\t * Http codes can be to refine the error types\n\t */\n\tpublic static HTTP_CONTINUE = 100;\n    public static HTTP_SWITCHING_PROTOCOLS = 101;\n    public static HTTP_PROCESSING = 102;            // RFC2518\n\n    // Success\n\n    /**\n     * The request has succeeded\n     */\n    public static HTTP_OK = 200;\n\n    /**\n     * The server successfully created a new resource\n     */\n    public static HTTP_CREATED = 201;\n    public static HTTP_ACCEPTED = 202;\n    public static HTTP_NON_AUTHORITATIVE_INFORMATION = 203;\n\n    /**\n     * The server successfully processed the request, though no content is returned\n     */\n    public static HTTP_NO_CONTENT = 204;\n    public static HTTP_RESET_CONTENT = 205;\n    public static HTTP_PARTIAL_CONTENT = 206;\n    public static HTTP_MULTI_STATUS = 207;          // RFC4918\n    public static HTTP_ALREADY_REPORTED = 208;      // RFC5842\n    public static HTTP_IM_USED = 226;               // RFC3229\n\n    // Redirection\n\n    public static HTTP_MULTIPLE_CHOICES = 300;\n    public static HTTP_MOVED_PERMANENTLY = 301;\n    public static HTTP_FOUND = 302;\n    public static HTTP_SEE_OTHER = 303;\n\n    /**\n     * The resource has not been modified since the last request\n     */\n    public static HTTP_NOT_MODIFIED = 304;\n    public static HTTP_USE_PROXY = 305;\n    public static HTTP_RESERVED = 306;\n    public static HTTP_TEMPORARY_REDIRECT = 307;\n    public static HTTP_PERMANENTLY_REDIRECT = 308;  // RFC7238\n\n    // Client Error\n\n    /**\n     * The request cannot be fulfilled due to multiple errors\n     */\n    public static HTTP_BAD_REQUEST = 400;\n\n    /**\n     * The user is unauthorized to access the requested resource\n     */\n    public static HTTP_UNAUTHORIZED = 401;\n    public static HTTP_PAYMENT_REQUIRED = 402;\n\n    /**\n     * The requested resource is unavailable at this present time\n     */\n    public static HTTP_FORBIDDEN = 403;\n\n    /**\n     * The requested resource could not be found\n     *\n     * Note: This is sometimes used to mask if there was an UNAUTHORIZED (401) or\n     * FORBIDDEN (403) error, for security reasons\n     */\n    public static HTTP_NOT_FOUND = 404;\n\n    /**\n     * The request method is not supported by the following resource\n     */\n    public static HTTP_METHOD_NOT_ALLOWED = 405;\n\n    /**\n     * The request was not acceptable\n     */\n    public static HTTP_NOT_ACCEPTABLE = 406;\n    public static HTTP_PROXY_AUTHENTICATION_REQUIRED = 407;\n    public static HTTP_REQUEST_TIMEOUT = 408;\n\n    /**\n     * The request could not be completed due to a conflict with the current state\n     * of the resource\n     */\n    public static HTTP_CONFLICT = 409;\n    public static HTTP_GONE = 410;\n    public static HTTP_LENGTH_REQUIRED = 411;\n    public static HTTP_PRECONDITION_FAILED = 412;\n    public static HTTP_REQUEST_ENTITY_TOO_LARGE = 413;\n    public static HTTP_REQUEST_URI_TOO_LONG = 414;\n    public static HTTP_UNSUPPORTED_MEDIA_TYPE = 415;\n    public static HTTP_REQUESTED_RANGE_NOT_SATISFIABLE = 416;\n    public static HTTP_EXPECTATION_FAILED = 417;\n    public static HTTP_I_AM_A_TEAPOT = 418;                                               // RFC2324\n    public static HTTP_UNPROCESSABLE_ENTITY = 422;                                        // RFC4918\n    public static HTTP_LOCKED = 423;                                                      // RFC4918\n    public static HTTP_FAILED_DEPENDENCY = 424;                                           // RFC4918\n    public static HTTP_RESERVED_FOR_WEBDAV_ADVANCED_COLLECTIONS_EXPIRED_PROPOSAL = 425;   // RFC2817\n    public static HTTP_UPGRADE_REQUIRED = 426;                                            // RFC2817\n    public static HTTP_PRECONDITION_REQUIRED = 428;                                       // RFC6585\n    public static HTTP_TOO_MANY_REQUESTS = 429;                                           // RFC6585\n    public static HTTP_REQUEST_HEADER_FIELDS_TOO_LARGE = 431;                             // RFC6585\n\n    // Server Error\n\n    /**\n     * The server encountered an unexpected error\n     *\n     * Note: This is a generic error message when no specific message\n     * is suitable\n     */\n    public static HTTP_INTERNAL_SERVER_ERROR = 500;\n\n    /**\n     * The server does not recognise the request method\n     */\n    public static HTTP_NOT_IMPLEMENTED = 501;\n    public static HTTP_BAD_GATEWAY = 502;\n    public static HTTP_SERVICE_UNAVAILABLE = 503;\n    public static HTTP_GATEWAY_TIMEOUT = 504;\n    public static HTTP_VERSION_NOT_SUPPORTED = 505;\n    public static HTTP_VARIANT_ALSO_NEGOTIATES_EXPERIMENTAL = 506;                        // RFC2295\n    public static HTTP_INSUFFICIENT_STORAGE = 507;                                        // RFC4918\n    public static HTTP_LOOP_DETECTED = 508;                                               // RFC5842\n    public static HTTP_NOT_EXTENDED = 510;                                                // RFC2774\n    public static HTTP_NETWORK_AUTHENTICATION_REQUIRED = 511;\n\n    public static user:User;\n    private static time:{\n    \tsyncDate:Date,\n    \tsyncAnchor:number,\n    \toffset:number\n    }\n\n\t//Defines headers and request options\n\tprivate static headers: Headers = new Headers({ 'Content-Type': 'application/json' });\n\tprivate static options: RequestOptions = new RequestOptions({ headers: TwAPIService.headers });\n\t// Regression RC5. Doesn't accept get without body\n\tprivate static optionsGet: RequestOptions = new RequestOptions({ headers: TwAPIService.headers, body:\"\" });\n\t\n\tpublic static baseUrl:string = \"https://toolwatch.io/api/\";\n\tpublic static assetsUrl = \"assets\"\n\tprivate static apikey:string;\n\n\t/**\n\t * Inject http service\n\t * @param {Http} private http \n\t */\n\tconstructor(public http: Http) {\n\t\tthis.accurateTime();\n\t}\n\n\tpublic static resetTime(){\n\t\tTwAPIService.time = undefined;\n\t}\n\n\t/**\n\t * Log a user using email and password\n\t * @param  {string}        email   \n\t * @param  {string}        password\n\t * @return {Promise<User>}         \n\t */\n\tlogin(email: string, password: string): Promise<User> {\n\n\t\tlet creds = { email: email, password: password };\n\t\treturn this.http.put(\n\t\t\tTwAPIService.baseUrl + \"users\", \n\t\t\tJSON.stringify(creds), \n\t\t\tTwAPIService.options\n\t\t)\n\t\t.map((res) => { return ModelFactory.buildUser(res.json()); })\n\t\t.toPromise().then(\n\t\t\tres => {\n                GAService.event('API', 'LOGIN');\n\t\t\t\tTwAPIService.apikey = res.key;\n\t\t\t\tTwAPIService.headers.delete('X-API-KEY');\n\t\t\t\tTwAPIService.headers.append('X-API-KEY', TwAPIService.apikey);\n\t\t\t\tTwAPIService.user = res;\n\t\t\t\treturn res;\n\t\t\t},\n\t\t\terr => this.handleError(err)\n\t\t);\n\t}  \n\n\n    /**\n     * Get an user using his API key\n     * @param  {string}        key [description]\n     * @return {Promise<User>}     [description]\n     */\n    getUser(key:string):Promise<User> {\n\n        \n        TwAPIService.apikey = key;\n        TwAPIService.headers.delete('X-API-KEY');\n        TwAPIService.headers.append('X-API-KEY', TwAPIService.apikey);\n        \n\n        return this.http.get(\n            TwAPIService.baseUrl + \"users\", \n            TwAPIService.options\n        )\n        .map((res) => { return ModelFactory.buildUser(res.json()); })\n        .toPromise().then(\n            res => {\n\n                GAService.event('API', 'AUTOLOGIN');\n                TwAPIService.user = res;\n                res.key = key;\n                return res;\n            },\n            err => this.handleError(err)\n        )\n\n    }\n\n\t/**\n\t * Registers a new user\n\t * @param  {string}        email   \n\t * @param  {string}        password\n\t * @param  {string}        name    \n\t * @param  {string}        lastname\n\t * @param  {string}        country \n\t * @return {Promise<User>}         \n\t */\n\tsignup(email: string, password: string, name?: string, lastname?: string, country?: string): Promise<User> {\n\n\t\treturn this.http.post(\n\t\t\tTwAPIService.baseUrl + \"users\",\n\t\t\tJSON.stringify({\n\t\t\t\temail: email, \n\t\t\t\tpassword: password,\n\t\t\t\tname: name,\n\t\t\t\tlastname: lastname,\n\t\t\t\tcountry:country\n\t\t\t}),\n\t\t\tTwAPIService.options\n\t\t)\n\t\t.map((res) => { return ModelFactory.buildUser(res.json()); })\n\t\t.toPromise().then(\n\t\t\tres => {\n                GAService.event('API', 'SIGNUP');\n                return res;\n            }\n\t\t);\n\t}\n\n\t/**\n\t * Registers a new facebook user\n\t * @param  {string}        email   \n\t * @param  {string}        token\n\t * @param  {string}        name    \n\t * @param  {string}        lastname\n\t * @return {Promise<User>}     \n\t */\n\tsignupFacebook(email: string, token: string, name?: string, lastname?: string): Promise<User>{\n\t\treturn this.http.post(\n\t\t\tTwAPIService.baseUrl + \"users/facebook\",\n\t\t\tJSON.stringify({\n\t\t\t\temail: email, \n\t\t\t\ttoken: token,\n\t\t\t\tname: name,\n\t\t\t\tlastname: lastname\n\t\t\t}),\n\t\t\tTwAPIService.options\n\t\t)\n\t\t.map((res) => { return ModelFactory.buildUser(res.json()); })\n\t\t.toPromise().then(\n\t\t\tres => {\n                GAService.event('API', 'SIGNUP');\n                return res;\n            }\n\t\t);\n\t}\n\n\t/**\n\t * Ask a reset password link\n\t * @return {Promise<boolean>}\n\t */\n\tresetPassword(email:string):Promise<boolean>{\n\t\treturn this.http.post(\n\t\t\tTwAPIService.baseUrl + \"users/reset\",\n\t\t\tJSON.stringify({\n\t\t\t\temail: email\n\t\t\t}),\n\t\t\tTwAPIService.options\n\t\t).toPromise().then(\n\t\t\tresponse => {\n                GAService.event('API', 'RESET_PASSWORD');\n                return true;\n            }\n\t\t).catch(this.handleError);\n\t}\n\n\t/**\n\t * Deletes the account currently logged in.\n\t * @return {Promise<boolean>}\n\t */\n\tdeleteAccount():Promise<boolean>{\n\n\t\treturn this.http.delete(\n\t\t\tTwAPIService.baseUrl + \"users\",\n\t\t\tTwAPIService.options\n\t\t).toPromise().then(\n\t\t\tresponse => {\n                GAService.event('API', 'DELETE_ACCOUNT');\n                return true;\n            }\n\t\t).catch(this.handleError);\n\t}\n\n\tgetWatches(): Promise<Watch[]>{\n\t\treturn this.http.get(\n\t\t\tTwAPIService.baseUrl + \"watches\",\n\t\t\tTwAPIService.optionsGet)\n\t\t.map((res) => { return ModelFactory.buildWatches(res.json()); })\n\t\t.toPromise().then(\n\t\t\tres => {\n                GAService.event('API', 'WATCHES', 'GET');\n                return res\n            }\n\t\t);\n\t}\n\n\t/**\n\t * Update or insert a watch\n\t * @param  {Watch}          watch\n\t * @return {Promise<Watch>}      \n\t */\n\tupsertWatch(watch: Watch): Promise<Watch> {\n\n\t\tif(watch.id == null){\n\t\t\treturn this.insertWatch(watch);\n\t\t}else{\n\t\t\treturn this.updateWatch(watch);\n\t\t}\n\t}\n\n\t/**\n\t * Deletes a watch and update the user accordingly\n\t * @param  {User}          user  \n\t * @param  {Watch}         watch \n\t * @return {Promise<User>}       \n\t */\n\tdeleteWatch(user:User, watch:Watch):Promise<User>{\n\t\tlet deleteOptions = new RequestOptions({ headers: TwAPIService.headers });\n\t\tdeleteOptions.body = JSON.stringify({ watchId: watch.id });\n\n\t\treturn this.http.delete(\n\t\t\tTwAPIService.baseUrl + \"watches\",\n\t\t\tdeleteOptions\n\t\t).toPromise().then(\n\t\t\tresponse => {\n\n\t\t\t\tuser.watches = user.watches.filter(\n\t\t\t\t\tfunction(filter: Watch) {\n\t\t\t\t\t\treturn filter.id != watch.id;\n\t\t\t\t\t}\n\t\t\t\t);\n\n                GAService.event('API', 'WATCHES', 'DELETE');\n\n\t\t\t\treturn user;\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * Insert or update a measure and the related watch\n\t * @param  {Watch}          watch  \n\t * @param  {Measure}        measure\n\t * @return {Promise<Watch>}        \n\t */\n\tupsertMeasure(watch: Watch, measure: Measure): Promise<Watch> {\n\t\tif(measure.id == null){\n\t\t\treturn this.insertMeasure(watch, measure);\n\t\t}else{\n\t\t\treturn this.updateMeasure(watch, measure);\n\t\t}\n\t}\n\n\t/**\n\t * Delete a measure and the update the related watch\n\t * @param  {Watch}          watch  \n\t * @param  {Measure}        measure\n\t * @return {Promise<Watch>}        \n\t */\n\tdeleteMeasure(watch: Watch, measure: Measure): Promise<Watch> {\n\n\t\tlet deleteOptions = new RequestOptions({ headers: TwAPIService.headers });\n\t\tdeleteOptions.body = JSON.stringify({measureId:measure.id});\n\n\t\treturn this.http.delete(\n\t\t\tTwAPIService.baseUrl + \"measures\",\n\t\t\tdeleteOptions\n\t\t).toPromise().then(\n\t\t\tresponse => {\n\n\t\t\t\twatch.measures = watch.measures.filter(\n\t\t\t\t\tfunction(filter: Measure) {\n\t\t\t\t\t\treturn filter.id != measure.id;\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\twatch.computeNext();\n\t\t\t\twatch.historySize--;\n\n                GAService.event('API', 'MEASURE', 'DELETE');\n\n\t\t\t\treturn watch;\n\t\t\t}\n\t\t).catch(this.handleError);\n\t}\n\n\tgetBlogPosts(): Promise<BlogPost[]>{\n\t\treturn this.http.get(\n\t\t\t\"https://blog.toolwatch.io/?json=1\"\n\t\t)\n\t\t.map((res) => { return ModelFactory.buildPosts(res.json()); })\n\t\t.toPromise().then(\n\t\t\tres => {\n                GAService.event('API', 'BLOG', 'GET');\n                return res\n            }\n\t\t);\n\t}\n\n\t/**\n\t * Given a brand, returns likely brands ordered by confidence\n\t * @param  {string}  brand [description]\n\t * @return {Promise}       [{brand:string, confidence:number}]\n\t */\n\tgetLikelyBrands(watch:Watch): Promise<{watch:Watch, proposals:[{brand:string, logo:string, confidence:number}]}>{\n\n\t\treturn this.http.get(\n\t\t\tTwAPIService.assetsUrl + '/watch-brand.json')\n\t\t.map(res => res.json())\n\t\t.toPromise().then(\n\t\t\tbrands => {\n\n\t\t\t\tvar likelyBrands = {watch: watch, proposals:[]};\n\n\t\t\t\tfor (var i = brands.length - 1; i >= 0; i--) {\n\n\n\t\t\t\t\tlet levenshteinDistance = StringHelper.levenshtein(brands[i].name, watch.brand);\n\t\t\t\t\tlet confidence = levenshteinDistance / Math.max(watch.brand.length, brands[i].name.length) *100;\n\t\t\t\t\t\n\t\t\t\t\tlikelyBrands.proposals.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbrand:brands[i].name,\n\t\t\t\t\t\t\tlogo: brands[i].icon,\n\t\t\t\t\t\t\tconfidence: 100 - confidence\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tlikelyBrands.proposals = likelyBrands.proposals.sort(function (\n\t\t\t\t\ta:{brand:string, confidence:number}, \n\t\t\t\t\tb:{brand:string, confidence:number}){\n\t\t\t\t\treturn b.confidence - a.confidence;\n\t\t\t\t});\n\n\t\t\t\treturn likelyBrands;\n            }\n\t\t);\n\n\t}\n\n\t/**\n\t * Return known brands\n\t * @return {Promise} \n\t */\n\tgetBrands(): Promise<[{ name: string, icon: string, models:string}]> {\n\t\treturn this.http.get(\n\t\t\tTwAPIService.assetsUrl + '/watches/watch-brand.json')\n\t\t.map(res => res.json())\n\t\t.toPromise().then(\n\t\t\tbrands => {\n                GAService.event('API', 'BRANDS', 'GET');\n                return brands;\n            }\n\t\t);\n\t}\n\n\t/**\n\t * Returns model of a given brand\n\t * @param  {string}  brand\n\t * @return {Promise}      \n\t */\n\tgetModels(brand:string): Promise<[string]> {\n\n\t\tbrand = StringHelper.replaceAll(brand, \" \", \"\");\n\t\tbrand = StringHelper.replaceAll(brand, \"&\", \"\");\n\t\t\n\t\treturn this.http.get(\n\t\t\tTwAPIService.assetsUrl + '/watches/watch-models/' + brand + \".json\")\n\t\t\t.map(res => res.json())\n\t\t\t.toPromise().then(\n\t\t\tmodels => {\n                GAService.event('API', 'MODELS', 'GET');\n                return models\n            }\n\t\t);\n\t}\n\n\t/**\n\t * Returns model of a given brand\n\t * @param  {string}  brand\n\t * @return {Promise}      \n\t */\n\tgetCalibers(brand:string): Promise<[string]> {\n\n\t\tbrand = StringHelper.replaceAll(brand, \" \", \"\");\n\t\tbrand = StringHelper.replaceAll(brand, \"&\", \"\");\n\t\t\n\t\treturn this.http.get(\n\t\t\tTwAPIService.assetsUrl + '/watches/watch-calibers/' + brand + \".json\")\n\t\t\t.map(res => res.json())\n\t\t\t.toPromise().then(\n\t\t\tcalibers => {\n                GAService.event('API', 'CALIBERS', 'GET');\n                return calibers\n            }\n\t\t);\n\t}\n\n\t/**\n\t * Gets the previously computed offset\n\t * @return {number} [description]\n\t */\n\tgetOffsetTime():number{\n\t\treturn TwAPIService.time.offset;\n\t}\n\n\t/**\n\t * Retrieve atomic clock time adjusted for network latency\n\t * @param  {()=>void} statusCallback Called at each partial complete\n\t * @param  {number = 0} precison How many calls we want to aveage\n\t * @return {Promise<Date>} \n\t */\n\taccurateTime(statusCallback?:()=>void, \n\t\tprecison:number = 10): Promise<Date>{\n\n        GAService.event('API', 'TIME', 'GET');\n\n\n\t\t//If we aren't already sync'ed\n\t\tif(TwAPIService.time === undefined){\n\t\t\t//Stores each Promise in array\n\t\t\tlet promises:Promise<number>[] = [];\n\t\t\tfor (var i = 0; i < precison; ++i) {\n\t\t\t\tpromises.push(this.fetchTime(statusCallback));\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Promise.all() is the Promise equivalent of thread.join().\n\t\t\t * It'll wait for all promises to be received. \n\t\t\t *\n\t\t\t * Returns a date adjusted w/ the median offset between \n\t\t\t * atomic clock and js time. \n\t\t\t * The offset received in each promise also accounts for\n\t\t\t * the network roundtrip time.\n\t\t\t */\n\t\t\treturn Promise.all(promises).then((results:any[]) => {\n\t\t\t\tresults.sort(function(a: any, b: any) { return a - b; });\n\n\t\t\t\tlet half: number = Math.floor(results.length / 2);\n\t\t\t\tlet medianOffset;\n\n\t\t\t\tif (results.length % 2) {\n\t\t\t\t\tmedianOffset = results[half];\n\t\t\t\t} else {\n\t\t\t\t\tmedianOffset = (results[half - 1] + results[half]) / 2.0;\n\t\t\t\t}\n\n\t\t\t\tTwAPIService.time = {\n\t\t\t\t\tsyncDate: new Date(Date.now() - medianOffset),\n\t\t\t\t\tsyncAnchor: window.performance.now(),\n\t\t\t\t\toffset:medianOffset\n\t\t\t\t};\n\n\t\t\t\treturn TwAPIService.time.syncDate;\n\t\t\t});\n\t\t//Only compute the difference from last time;\n\t\t}else{\n\n\t\t\tTwAPIService.time.syncDate = new Date(\n\t\t\t\tTwAPIService.time.syncDate.getTime() +\n\t\t\t\twindow.performance.now() - TwAPIService.time.syncAnchor\n\t\t\t);\n\t\t\t\n\t\t\tTwAPIService.time.syncAnchor = window.performance.now();\n\n\t\t\treturn new Promise<Date>(\n\t\t\t\t(resolve, reject) => { \n\t\t\t\t\tconsole.log(TwAPIService.time);\n\t\t\t\t\tresolve(TwAPIService.time.syncDate); \n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Fetch offset between atomic clock and js time\n\t * @param {() => void} statusCallback\n\t */\n\tpublic fetchTime(statusCallback?: () => void)\n\t\t: Promise<number> {\n\n\t\tlet beforeTime: number = window.performance.now();\n\t\treturn this.http.get(TwAPIService.baseUrl + \"time\", TwAPIService.optionsGet)\n\t\t\t.toPromise()\n\t\t\t.then(\n\t\t\t\tresponse => {\n\t\t\t\t\tif (statusCallback !== undefined){\n\t\t\t\t\t\tstatusCallback();\n\t\t\t\t\t}\n\n\t\t\t\t\tlet now: number = window.performance.now();\n\t\t\t\t\tlet timeDiff = (now - beforeTime) / 2;\n\t\t\t\t\tlet serverTime = response.json().time - timeDiff;\n\t\t\t\t\treturn Date.now() - serverTime;\n\t\t\t\t}, \n\t\t\t\treject => console.error(reject)\n\t\t).catch(this.handleError);\n\t}\n\n\t/**\n\t * Update a measure and the watch it belongs to\n\t * @param  {Watch}          watch  \n\t * @param  {Measure}        measure\n\t * @return {Promise<Watch>}        \n\t */\n\tprivate updateMeasure(watch: Watch, measure: Measure): Promise<Watch> {\n\t\treturn this.http.put(\n\t\t\tTwAPIService.baseUrl + \"measures\",\n\t\t\tJSON.stringify({\n\t\t\t\tmeasureId: measure.id,\n\t\t\t\treferenceTime: measure.accuracyReferenceTime,\n\t\t\t\tuserTime: measure.accuracyUserTime\n\t\t\t}),\n\t\t\tTwAPIService.options\n\t\t).toPromise().then(\n\t\t\tresponse => {\n                GAService.event('API', 'MEASURE', 'SECOND');\n\t\t\t\tlet json = response.json().result;\n\t\t\t\tmeasure.addAccuracy(json.accuracy, json.accuracyAge, json.percentile);\n\t\t\t\twatch.upsertMeasure(measure);\n\t\t\t\twatch.next = WatchAction.Measure;\n\t\t\t\treturn watch;\n\t\t\t}\n\t\t).catch(this.handleError);\n\t}\n\n\t/**\n\t * Insert a measure and the watch it belongs to\n\t * @param  {Watch}          watch  \n\t * @param  {Measure}        measure\n\t * @return {Promise<Watch>}        \n\t */\n\tprivate insertMeasure(watch: Watch, measure: Measure): Promise<Watch> {\n\t\treturn this.http.post(\n\t\t\tTwAPIService.baseUrl + \"measures\",\n\t\t\tJSON.stringify({\n\t\t\t\twatchId: watch.id,\n\t\t\t\treferenceTime: measure.measureReferenceTime,\n\t\t\t\tuserTime: measure.measureUserTime\n\t\t\t}),\n\t\t\tTwAPIService.options\n\t\t).toPromise().then(\n\t\t\tresponse => {\n                GAService.event('API', 'MEASURE', 'FIRST');\n\t\t\t\tmeasure.id = response.json().measureId;\n\t\t\t\twatch.measures.push(measure);\n\t\t\t\twatch.historySize++;\n\t\t\t\treturn watch;\n\t\t\t}\n\t\t).catch(this.handleError);\n\t}\n\n\t/**\n\t * Insert a watch\n\t * @param  {Watch}          watch\n\t * @return {Promise<Watch>}      \n\t */\n\tprivate insertWatch(watch: Watch):Promise<Watch>{\n\t\treturn this.http.post(\n\t\t\tTwAPIService.baseUrl + \"watches\",\n\t\t\tJSON.stringify({\n\t\t\t\tbrand: watch.brand,\n\t\t\t\tname: watch.name,\n\t\t\t\tyearOfBuy: watch.yearOfBuy,\n\t\t\t\tserial: watch.serial,\n\t\t\t\tcaliber: watch.caliber\n\t\t\t}),\n\t\t\tTwAPIService.options\n\t\t)\n\t\t.map((res) => { \n\t\t\treturn ModelFactory.buildWatch(\n\t\t\t\tres.json().id,\n\t\t\t\twatch.brand,\n\t\t\t\twatch.name,\n\t\t\t\twatch.yearOfBuy,\n\t\t\t\twatch.serial,\n\t\t\t\twatch.caliber\n\t\t\t); \n\t\t})\n\t\t.toPromise().then(\n\t\t\tresponse => {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * Update a watch\n\t * @param  {Watch}          watch\n\t * @return {Promise<Watch>}      \n\t */\n\tprivate updateWatch(watch: Watch): Promise<Watch> {\n\t\treturn this.http.put(\n\t\t\tTwAPIService.baseUrl + \"watches\",\n\t\t\tJSON.stringify({\n\t\t\t\tid: watch.id,\n\t\t\t\tbrand: watch.brand,\n\t\t\t\tname: watch.name,\n\t\t\t\tyearOfBuy: watch.yearOfBuy,\n\t\t\t\tserial: watch.serial,\n\t\t\t\tcaliber: watch.caliber\n\t\t\t}),\n\t\t\tTwAPIService.options\n\t\t).toPromise().then(\n\t\t\tresponse => {\n                GAService.event('API', 'WATCH', 'UPDATE');\n\t\t\t\treturn watch;\n\t\t\t}\n\t\t);\n\t}\n\n\n\t/**\n\t * Log error to console\n\t * @param {any} error [description]\n\t */\n\tprivate handleError(error: any) {\n\t\tconsole.error('An error occurred', error || \"plop\");\n        return Promise.reject(error.message || error);\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/twapi.service.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/forms\"\n// module id = 5\n// module chunks = 0","import { Component, OnInit, ElementRef } from '@angular/core';\n\n@Component({\n  selector: 'moon-phases',\n  template: `<div class=\"moon-phase-container\">\n\t<div class=\"moon-mask\"></div>\n\t<div class=\"moon-disque\"></div>\n</div>\n`\n})\nexport class MoonPhasesComponent implements OnInit {\n\n  angleMoon:number;\n  \n  constructor(private elementRef: ElementRef) {\n\n    let today:Date = new Date();\n    let lastFullMoon = new Date(2016, 10, 14, 12, 0, 0, 0);\n    let diffDays = Math.round(Math.abs((today.getTime() - lastFullMoon.getTime())/(24*60*60*1000)));\n\n\t  this.angleMoon = diffDays * 6.101694915254;   \n  }\n\n  ngAfterViewInit() {\n  \tlet elem = this.elementRef.nativeElement.querySelector('.moon-disque')\n  \telem.style.webkitTransform = 'rotateZ(' + this.angleMoon + 'deg)';\n  \telem.style.transform = 'rotateZ(' + this.angleMoon + 'deg)';\n  }\n\n  ngOnInit() {\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/clock/moon-phases/moon-phases.component.ts","import { FormControl, FormGroup } from '@angular/forms';\n\nexport interface ValidationResult {\n [key:string]:boolean;\n}\n\nexport class GlobalValidator {\n\n\tstatic mailFormat(control: FormControl): ValidationResult {\n\n        var EMAIL_REGEXP = /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i;\n\n        if (control.value != \"\" && (control.value.length <= 5 || !EMAIL_REGEXP.test(control.value))) {\n            return { \"incorrectMailFormat\": true };\n        }\n\n        return null;\n    }\n\n    static match(group:FormGroup, from: string, distant: string): ValidationResult {\n\n    \tconsole.log(group);\n\n    \tif (group && group.controls[from].value != group.controls[from].value) {\n            return { \"noMatch\": true };\n        }\n\n        return null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/directives/global-validator.ts","export class BlogPost{\n\tid:number;\n\ttitle:string;\n\tdate:Date;\n\texcerpt:string;\n\turl:string;\n\n\tconstructor(id: number, title: string, date: Date, excerpt: string, url: string){\n\n\t\tthis.id = id;\n\t\tthis.title = this.decodeHTMLEntities(title);\n\t\tthis.date = date;\n\t\tthis.excerpt = this.decodeHTMLEntities(excerpt);\n\t\tString.fromCharCode\n\t\tthis.url = url;\n\t}\n\n\tpublic toString = () : string => {\n\t\treturn `BlogPost (id: ${this.id},\n\t\t\t\ttitle: ${this.title},\n\t\t\t\tdate: ${this.date},\n\t\t\t\texcerpt: ${this.excerpt},\n\t\t\t\turl: ${this.url})`;\n\t}\n\n\tprivate decodeHTMLEntities(str:string) {\n\n\t\tvar txt = document.createElement(\"textarea\");\n\t\tstr = str.replace(/<script[^>]*>([\\S\\s]*?)<\\/script>/gmi, '');\n      \tstr = str.replace(/<\\/?\\w(?:[^\"'>]|\"[^\"]*\"|'[^']*')*>/gmi, '');\n      \tstr = str.replace('[Read more…]', '');\n\t    txt.innerHTML = str;\n\n\t    return txt.value;\n  \t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/blog-post.model.ts","import { Watch } from './watch.model'\n\nexport class User{\n\tid:number;\n\temail:string;\n\tname:string;\n\tlastname:string;\n\tcountry:string;\n\tregisterDate:string;\n\tkey:string;\n\twatches:Watch[] = [];\n\temailPreferences:EmailPreferences = EmailPreferences.None;\n\n\tconstructor(id: number,email: string,name: string,\n\t\tlastname: string,country: string,registerDate: \n\t\tstring,key: string,watches: Watch[]){\n\n\t\tthis.id = id;\n\t\tthis.email = email;\n\t\tthis.name = name;\n\t\tthis.lastname = lastname;\n\t\tthis.country = country;\n\t\tthis.registerDate = registerDate;\n\t\tthis.key = key;\n\t\tthis.watches = watches;\n\t}\n\n\tupsertWatch(watch:Watch){\n\t\tfor (var i = 0; i < this.watches.length; i++) {\n\n\t\t\tif(this.watches[i].id == watch.id){\n\t\t\t\tthis.watches[i] = watch;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.watches.push(watch);\n\t}\n\n\tpublic toString = () : string => {\n\n\t\treturn `User (\n\t\t\tid: ${this.id}, \n\t\t\temail: ${this.email}, \n\t\t\tname: ${this.name}, \n\t\t\tlastname: ${this.lastname}, \n\t\t\tcountry: ${this.country}, \n\t\t\tregisterDate: ${this.registerDate}, \n\t\t\tkey: ${this.key}, \n\t\t\twatches: ${this.watches})`;\n    }\n\n}\n\nexport enum EmailPreferences {\n\n\tNone = 0,\n\tFirstWatch = 1 << 1,\n\tFirstMeasure = 1 << 2,\n\tDayAccuracy = 1 << 3,\n\tWeekAccuracy = 1 << 4,\n\tResult = 1 << 5,\n\tNewMeasure = 1 << 6,\n\tSecondWatch = 1 << 7,\n\tComeback = 1 << 8,\n\tWatchStories = 1 << 9\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/user.model.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'arethmeticSign'\n}) \nexport class ArethmeticSign implements PipeTransform {\n\n  transform(value: number): string {\n    if(value >= 0){\n        return \"+\" + value;\n    }else{\n        return value.toString();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/arethmetic-sign.pipe.ts","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'kFormatter'\r\n}) \r\nexport class KFormatter implements PipeTransform {\r\n\r\n  //we expect a signed number (i.e +2.7)\r\n  transform(value: string): string {\r\n\r\n  \tlet sign:string = value.charAt(0);\r\n  \tvalue = value.substr(1);\r\n  \tlet number = Number(value);\r\n\r\n  \tif(Math.abs(number) > 999){\r\n  \t\treturn sign + (number/1000).toFixed(0) + 'k';\r\n  \t}else if(Math.abs(number) > 100){\r\n  \t\treturn sign + number.toFixed(0);\r\n  \t}else{\r\n  \t\treturn sign + number.toFixed(1);\r\n  \t}\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/k-formatter.pipe.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'leadingZero'\n})\nexport class LeadingZero implements PipeTransform {\n\n  transform(value: number): string {\n    if (value < 10) {\n        return \"0\" + value;\n    }else{\n        return value.toString();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/leading-zero.pipe.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/http\"\n// module id = 13\n// module chunks = 0","\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpModule } from '@angular/http';\nimport { ArethmeticSign } from './src/pipes/arethmetic-sign.pipe';\nimport { LeadingZero } from './src/pipes/leading-zero.pipe';\nimport { KFormatter } from './src/pipes/k-formatter.pipe';\nimport { MoonPhasesComponent } from './src/directives/clock/moon-phases/moon-phases.component';\nimport { TwAPIService } from './src/services/twapi.service';\nimport { GAService } from './src/services/ga.service';\nimport { TranslateModule, TranslateLoader } from 'ng2-translate/ng2-translate';\n\n\n/**\n * SERVICES\n */\nexport * from './src/services/twapi.service'\nexport * from './src/services/ga.service'\n/**\n * PIPES\n */\nexport * from './src/pipes/arethmetic-sign.pipe'\nexport * from './src/pipes/leading-zero.pipe'\nexport * from './src/pipes/k-formatter.pipe'\n/**\n * MODEL\n */\nexport * from './src/models/watch.model'\nexport * from './src/models/user.model'\nexport * from './src/models/measure.model'\nexport * from './src/models/blog-post.model'\n/**\n * DIRECTIVES\n */\nexport * from './src/directives/clock/clock.component'\nexport * from './src/directives/clock/moon-phases/moon-phases.component'\nexport * from './src/directives/login/login.component'\nexport * from './src/directives/signup/signup.component'\nexport * from './src/directives/watch/watch.component'\n\n\n\n@NgModule({\n  declarations: [\n    ArethmeticSign,\n    LeadingZero,\n    KFormatter,\n    MoonPhasesComponent\n  ],\n  providers: [\n    TwAPIService,\n    GAService\n  ],\n  exports: [\n    ArethmeticSign,\n    LeadingZero,\n    KFormatter,\n    MoonPhasesComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule\n  ],\n  schemas: [\n    CUSTOM_ELEMENTS_SCHEMA\n  ]\n})\nexport class TwCoreModule {\n} \n\n\n// WEBPACK FOOTER //\n// ./index.ts","import { Component, ElementRef, OnInit } from '@angular/core';\n\nexport class ClockComponent implements OnInit {\n\n  month:string;\n  day:string;\n  date:Date;\n  nextLeap:number;\n  monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n  dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  constructor(private elementRef: ElementRef) {\n\n\tthis.date = new Date();\n\tthis.month = this.monthNames[this.date.getMonth()];\n\tthis.day = this.dayNames[this.date.getDay()] + \" \" + this.date.getDate();\n\n\tthis.nextLeap = this.date.getFullYear();\n\n\t\twhile(!this.isLeapYear(this.nextLeap)){\n\t\t\tthis.nextLeap++;\n\t\t}\n  }\n\n  isLeapYear(year:number){\n\treturn ((year % 4 == 0) && (year % 100 != 0)) || (year % 400 == 0);\n  }\n\n  initLocalClocks() {\n\n    var milliseconds = this.date.getMilliseconds();\n\tvar seconds = this.date.getSeconds();\n\tvar minutes = this.date.getMinutes();\n\tvar hours = this.date.getHours();\n\n\t// Create an object with each hand and it's angle in degrees\n\tvar hands = [\n\t\t{\n\t\t\thand: 'hours',\n\t\t\tangle: (hours * 30) + (minutes / 2)\n\t\t},\n\t\t{\n\t\t\thand: 'minutes',\n\t\t\tangle: (minutes * 6) + (seconds/60) * 6\n\t\t},\n\t\t{\n\t\t\thand: 'seconds',\n\t\t\tangle: (seconds * 6) + (milliseconds/1000)*6\n\t\t}\n\t];\n\n\t//Loop through each of these hands to set their angle\n\tfor (var j = 0; j < hands.length; j++) {\n\t\tvar element = this.elementRef.nativeElement.querySelector(\n\t\t\t'.' + hands[j].hand\n\t\t);\n\n\t\telement.style.webkitTransform = 'rotateZ(' + hands[j].angle + 'deg)';\n\t\telement.style.transform = 'rotateZ(' + hands[j].angle + 'deg)';\n\t}\n  }\n\n  ngOnInit() {\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/directives/clock/clock.component.ts","import { Component, Output, OnInit, EventEmitter } from '@angular/core';\nimport {TranslateService} from 'ng2-translate/ng2-translate';\nimport {TwAPIService} from './../../services/twapi.service'\nimport { GlobalValidator } from './../global-validator';\nimport { GAService } from './../../services/ga.service';\n\nimport {   \n  Validators,  \n  FormBuilder,  \n  FormGroup\n} from '@angular/forms';\n \n/**\n * Login component. Provides a login form with controlled and\n * emits a User ($event userLogged) on successful login.\n */\nexport class LoginComponent implements OnInit {\n\n  loginForm              : FormGroup;\n  errors                 = [];\n  submitAttempt:false;\n  userLogged   = new EventEmitter();\n  loginAttempt = new EventEmitter();\n\n\n  /**\n   * Constructor w/ service injection\n   * @param {TranslateService} private translate [description]\n   * @param {TwAPIService}     private twapi     [description]\n   * @param {FormBuilder}      private builder   [description]\n   */\n  constructor(\n    protected translate: any, \n    protected twapi  : TwAPIService, \n    private formBuilder  : any\n  ) { \n\n    //Lang definition\n\t  this.translate.setDefaultLang('en');\n\t  this.translate.use('en');\n\n    this.loginForm = this.formBuilder.group({\n      email   : [\"\", Validators.compose([Validators.required, GlobalValidator.mailFormat])],\n      password: [\"\", Validators.compose([Validators.required, Validators.minLength(5)])]\n    });\n\n  }\n\n  /**\n   * Login an FB user\n   * @param {string} fbUser [description]\n   */\n  onFbSubmit(fbUser:{\n    email: string, \n    token: string,\n    lastname: string, \n    firstname: string}\n  ){\n\n    this.errors = [];\n\n    this.loginAttempt.emit(true);\n\n    //Tries to login an user using his fb email\n    this.twapi.signupFacebook(fbUser.email, fbUser.token, fbUser.lastname, fbUser.firstname).then(\n        //success, away we go\n        res => { \n          this.userLogged.emit(res);\n          GAService.event('CTA', 'FB_LOGIN', 'SUCCESS');\n        }, \n        err => {\n\n          //Error, most likely the user tries to signin\n          //using facebook while he has a regular \n          //account with the same email.\n          this.loginAttempt.emit(false);\n          GAService.event('CTA', 'FB_SIGNUP', 'FAIL');\n          switch (err.status) {\n            case 401:\n              this.errors.push('credentials');\n              break;\n            default:\n              this.errors.push('error');\n              break;\n          }\n        }\n    );\n\n    this.loginAttempt.emit(false);\n  }\n\n  /**\n   * Form submit\n   * @param {string}} user [description]\n   */\n  onSubmit(user:{email:string, password:string}){\n\n    this.errors = [];\n    \n    //Form constraints are ok\n    if(this.loginForm.valid){\n\n      this.loginAttempt.emit(true);\n\n      this.twapi.login(user.email, user.password).then(\n        res => { \n          this.userLogged.emit(res);\n          GAService.event('CTA', 'LOGIN', 'SUCCESS');\n        }, \n        err => {\n          GAService.event('CTA', 'LOGIN', 'FAIL');\n          switch (err.status) {\n            case 401:\n              this.errors.push('credentials');\n              break;\n            default:\n              this.errors.push('error');\n              break;\n          }\n        }\n      );\n\n      this.loginAttempt.emit(false);\n    }\n  }\n\n  onPasswordResetSubmit(email:string){\n    this.twapi.resetPassword(email);\n  }\n\n  ngOnInit() {\n\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/directives/login/login.component.ts","import { Component, Output, OnInit, EventEmitter } from '@angular/core';\nimport {TranslateService} from 'ng2-translate/ng2-translate';\nimport {TwAPIService} from './../../services/twapi.service'\nimport { GlobalValidator } from './../global-validator';\nimport { GAService } from './../../services/ga.service';\n\nimport {   \n  Validators,\n  FormBuilder,  \n  FormGroup\n} from '@angular/forms';\n\n\n/**\n * Signup form. Emits a userLogged event on new user signup\n */\nexport class SignupComponent implements OnInit {\n\n  signupForm   : FormGroup;\n  submitAttempt:boolean = false;\n  errors       = [];\n  countries    :[string];\n  filteredList = [];\n  query        : string = \"\";\n\n  @Output() userLogged = new EventEmitter();\n  @Output() signupAttempt = new EventEmitter();\n\n   /**\n   * Constructor w/ service injection\n   * @param {TranslateService} private translate [description]\n   * @param {TwAPIService}     private twapi     [description]\n   * @param {FormBuilder}      private builder   [description]\n   */\n  constructor(private translate: any, \n    private twapi: TwAPIService, private formBuilder: any) { \n\n    translate.setDefaultLang('en');\n    translate.use('en');\n\n    translate.get(\"countries\").subscribe((result: [string]) => {\n      this.countries = result;\n    });\n\n    this.signupForm = this.formBuilder.group({\n        email         : [\"\", Validators.compose([Validators.required, GlobalValidator.mailFormat])],\n        emailRepeat   : [\"\", Validators.compose([Validators.required, GlobalValidator.mailFormat])],\n\n        password      : [\"\", Validators.compose([Validators.required, Validators.minLength(8)])],\n        passwordRepeat: [\"\", \n          Validators.compose([\n            Validators.required, \n            Validators.minLength(8)\n          ])\n        ],\n        lastName      : \"\",\n        firstName     : \"\",\n        country       : \"\"\n      });\n  }\n\n\n  /**\n   * Trims the filteredList accoring to the \n   * country field\n   * @param {string} query [description]\n   */\n  filter(query:string) {\n    this.filteredList = this.countries.filter(function(element:string){\n      return element.toLowerCase().indexOf(query.toLowerCase()) > -1;\n    });\n  }\n\n  /**\n   * Assign the country label when selected \n   * from the list\n   * @param {string} item [description]\n   */\n  select(item:string){\n    this.query = item;\n    this.filteredList = [];\n  }\n\n  /**\n   * submit the form\n   * @param {string    }} user [description]\n   */\n  onSubmit(user:{\n      email: string, \n      password: string,\n      emailRepeat: string,\n      passwordRepeat: string,\n      lastName: string,\n      firstName: string\n    }) {\n\n    this.submitAttempt = true;\n    this.errors = [];\n\n\n    if(this.signupForm.valid && \n      user.password == user.passwordRepeat &&\n      user.email == user.emailRepeat){\n\n      this.signupAttempt.emit(true);\n\n      this.twapi.signup(user.email,\n       user.password,\n       user.firstName,\n       user.lastName,\n       this.query).then(\n        res => { \n          GAService.event('CTA', 'SIGNUP', 'SUCCESS');\n          this.userLogged.emit(res) \n        },\n        error => {\n          GAService.event('CTA', 'SIGNUP', 'FAIL');\n          switch (error.status) {\n            case TwAPIService.HTTP_UNAUTHORIZED:\n              this.errors.push('email-taken');\n              break;\n            default:\n              this.errors.push('error');\n              break;\n          }\n        }\n       )\n\n      this.signupAttempt.emit(false);\n    } else{\n\n      if(user.password != user.passwordRepeat){\n        this.errors.push('password-match');\n      }\n\n      if(user.email != user.emailRepeat){\n        this.errors.push('email-match');\n      }\n    }\n  }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/signup/signup.component.ts","import { Component, EventEmitter, Output, OnInit } from '@angular/core';\n\nimport {TranslateService} from 'ng2-translate/ng2-translate';\n\nimport { Watch } from './../../models/watch.model';\nimport { User } from './../../models/user.model';\nimport {TwAPIService} from './../../services/twapi.service';\nimport { GAService } from './../../services/ga.service';\n\nimport {   \n  FormBuilder,  \n  FormGroup,\n  Validators\n} from '@angular/forms';\n\n/**\n * From to add, delete and update watches\n */\nexport class WatchComponent implements OnInit {\n\n  user: User;\n  @Output() watchSaved = new EventEmitter();\n  watchModel: Watch = new Watch(null, \"\");\n  watchForm        : FormGroup;\n  brands           : { name: string, icon: string, models: string }[] = [];\n  models           : string[] = [];\n  calibers         : string[] = [];\n  filteredBrandList: { name: string, icon: string, models: string }[] = [];\n  filteredModelList: string[] = [];\n  filteredCaliberList : string[] = [];\n  error            : boolean = false;\n  submitAttempt    : boolean = false;\n  brandSelected    : boolean = false;\n  modelSelected    : boolean = false;\n  caliberSelected  : boolean = false;\n\n  /**\n   * Constructor with DI\n   * @param {TranslateService} private translate [description]\n   * @param {TwAPIService}     private twapi     [description]\n   * @param {FormBuilder}      private builder   [description]\n   */\n  constructor(\n    protected translate: any,\n    private twapi      : TwAPIService, \n    private formBuilder    : any,\n  ) {\n\n    translate.setDefaultLang('en');\n    translate.use('en');\n    \n\n    this.watchForm = this.formBuilder.group({\n      id     : this.watchModel.id,\n      brand  : [this.watchModel.brand,  Validators.required],\n      name   : [this.watchModel.name, Validators.required],\n      caliber: this.watchModel.caliber,\n      year   : [this.watchModel.yearOfBuy, Validators.compose(\n        [Validators.minLength(4),  Validators.maxLength(4)]\n      )],\n      serial : this.watchModel.serial\n    });\n\n\n    this.twapi.getBrands().then(\n      res => {\n        this.brands = res;\n      }\n    );\n  }\n\n  /**\n   * [selectBrand description]\n   * @param {string} brand [description]\n   */\n  selectBrand(brand: { name: string, icon: string, models:string}){\n    this.brandSelected = true;\n    this.twapi.getModels(brand.models.toLowerCase()).then(\n      res   => this.models = res,\n      error => this.models = []\n    );\n    \n    this.twapi.getCalibers(brand.models.toLowerCase()).then(\n      res   => this.calibers = res,\n      error => this.calibers = []\n    );\n\n    this.filteredBrandList = [];\n    this.watchModel.brand = brand.name;\n  }\n\n  /**\n   * Select a model\n   * @param {string} model [description]\n   */\n  selectModel(model: string) {\n    this.modelSelected = true;\n    this.filteredModelList = [];\n    this.watchModel.name = model;\n  }\n\n  /**\n   * Select a caliber\n   * @param {string} caliber [description]\n   */\n  selectCaliber(caliber: string) {\n    this.caliberSelected = true;\n    this.filteredCaliberList = [];\n    this.watchModel.caliber = caliber;\n  }\n\n  /**\n   * Filter brands according the brand\n   * @param {string} brand [description]\n   */\n  filterBrand(brand: string) {\n\n    if(this.brandSelected == false){\n      this.filteredBrandList = this.brands.filter(\n        function(element: { name: string, icon: string, models: string }) {\n          return element.name.toLowerCase().indexOf(brand.toLowerCase()) > -1;\n      });\n    \n    }else{\n      setTimeout(()=> this.brandSelected = false, 5);\n    }\n\n  }\n\n  /**\n   * Filters models according to model\n   * @param {string} model [description]\n   */\n  filterModel(model:string){\n\n    if(this.modelSelected == false){\n      this.filteredModelList = this.models.filter(function(element:string) {\n        return element.toLowerCase().indexOf(model.toLowerCase()) > -1;\n      });\n    }else{\n      setTimeout(()=> this.modelSelected = false, 5);\n    }\n    \n  }\n\n  /**\n   * Filters out calibers according to the current input\n   * @param caliber \n   */\n  filterCaliber(caliber:string){\n    \n    if(this.caliberSelected == false){\n      this.filteredCaliberList = this.calibers.filter(function(element:string) {\n        return element.toLowerCase().indexOf(caliber.toLowerCase()) > -1;\n      });\n    }else{\n      setTimeout(()=> this.caliberSelected = false, 5);\n    }\n  }\n\n  ngOnInit() {\n  }\n\n  /**\n   * Submit a watch\n   */\n  onSubmit(){\n\n    this.submitAttempt = true;\n\n    if (this.watchForm.valid) {\n      this.error = false;\n    \n      this.twapi.upsertWatch(this.watchModel).then(\n        res => {\n          GAService.event('CTA', 'WATCH_UPSERT', 'SUCCESS');\n          this.user.upsertWatch(res);\n          this.watchSaved.emit(this.user);\n          this.submitAttempt = false;\n          this.error = false;\n        },\n        error => {\n          GAService.event('CTA', 'WATCH_UPSERT', 'FAIL');\n          this.error = true;\n          this.submitAttempt = false;\n        }\n      );\n    }else{\n      this.error = true;\n    }\n  }\n\n  onDelete(){\n    this.submitAttempt = true;\n    this.twapi.deleteWatch(this.user, this.watchModel).then(\n      res => {\n        GAService.event('CTA', 'WATCH_DELETE', 'SUCCESS');\n        this.watchSaved.emit(res);\n        this.submitAttempt = false;\n      },\n      error => {\n        GAService.event('CTA', 'WATCH_DELETE', 'FAIL');\n        this.error = true;\n        this.submitAttempt = false;\n      }\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/watch/watch.component.ts","export class StringHelper{\r\n\r\n    public static levenshtein(a:string, b:string){\r\n        if(!a || !b) return (a || b).length;\r\n        var m = [];\r\n        for(var i = 0; i <= b.length; i++){\r\n            m[i] = [i];\r\n            if(i === 0) continue;\r\n            for(var j = 0; j <= a.length; j++){\r\n                m[0][j] = j;\r\n                if(j === 0) continue;\r\n                m[i][j] = b.charAt(i - 1) == a.charAt(j - 1) ? m[i - 1][j - 1] : Math.min(\r\n                    m[i-1][j-1] + 1,\r\n                    m[i][j-1] + 1,\r\n                    m[i-1][j] + 1\r\n                );\r\n            }\r\n        }\r\n        return m[b.length][a.length];\r\n    }\r\n\r\n    public static replaceAll(target:string, search:string, replacement:string):string{\r\n        return target.split(search).join(replacement);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/string.helper.ts","import { User, }  from './user.model';\nimport { Watch }  from './watch.model';\nimport { BlogPost }  from './blog-post.model';\nimport { Measure }  from './measure.model';\n\nexport class ModelFactory {\n\n\n\t/**\n\t * Builds an User from json response\n\t * @param  {any}  jsonUser\n\t * @return {User}         \n\t */\n\tstatic buildUser(jsonUser: any): User {\n\n\t\treturn new User(\n\t\t\tjsonUser.userId,\n\t\t\tjsonUser.email,\n\t\t\tjsonUser.firstname,\n\t\t\tjsonUser.name,\n\t\t\tjsonUser.country,\n\t\t\tjsonUser.registerDate,\n\t\t\tjsonUser.key,\n\t\t\tModelFactory.buildWatches(jsonUser.watches)\n\t\t);\n\t}\n\n\t/**\n\t * Builds a watch from json response\n\t * @param  {any}     jsonWatches\n\t * @return {Watch[]}            \n\t */\n\tstatic buildWatches(jsonWatches: any): Watch[] {\n\t\treturn jsonWatches.map(function(jsonWatch:any) {\n\t\t\treturn new Watch(\n\t\t\t\tjsonWatch.watchId,\n\t\t\t\tjsonWatch.brand,\n\t\t\t\tjsonWatch.historySize,\n\t\t\t\tjsonWatch.measures.map(function(jsonMeasure:any) {\n\t\t\t\t\treturn new Measure(\n\t\t\t\t\t\tjsonMeasure.id,\n\t\t\t\t\t\tjsonMeasure.measureUserTime,\n\t\t\t\t\t\tjsonMeasure.measureReferenceTime,\n\t\t\t\t\t\tjsonMeasure.statusId,\n\t\t\t\t\t\tjsonMeasure.accuracyUserTime,\n\t\t\t\t\t\tjsonMeasure.accuracyReferenceTime,\n\t\t\t\t\t\tjsonMeasure.accuracy,\n\t\t\t\t\t\tjsonMeasure.accuracyAge,\n\t\t\t\t\t\tjsonMeasure.percentile)\n\t\t\t\t}),\n\t\t\t\tjsonWatch.name,\n\t\t\t\tjsonWatch.yearOfBuy,\n\t\t\t\tjsonWatch.serial,\n\t\t\t\tjsonWatch.caliber\n\t\t\t)\n\t\t});\n\t}\n\n\t/**\n\t * Builds Json post from json response\n\t * @param  {any}        jsonPosts [description]\n\t * @return {BlogPost[]}           [description]\n\t */\n\tstatic buildPosts(jsonPosts: any): BlogPost[]{\n\t\treturn jsonPosts.posts.map(function(jsonPost:any) {\n\n\t\t\treturn new BlogPost(\n\t\t\t\tjsonPost.id, \n\t\t\t\tjsonPost.title, \n\t\t\t\tnew Date(jsonPost.date), \n\t\t\t\tjsonPost.excerpt,\n\t\t\t\tjsonPost.url\n\t\t\t);\n\t\t});\n\t}\n\n\tstatic buildWatch(\n\n\t\tid: number,\n\t\tbrand: string,\n\t\tname: string,\n\t\tyearOfBuy: number,\n\t\tserial: string,\n\t\tcaliber: string\n\n\t): Watch{\n\t\treturn new Watch(id, brand, 0, [], name, yearOfBuy, serial, caliber);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/model.factory.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_21__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/platform-browser\"\n// module id = 21\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/Rx\"\n// module id = 22\n// module chunks = 0","export * from './index';\n\n\n// WEBPACK FOOTER //\n// ./tw-core.ts"],"sourceRoot":""}