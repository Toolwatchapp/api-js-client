{"version":3,"file":"clock.component.js","sourceRoot":"","sources":["clock.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, ElementRef, OnInit } from '@angular/core';\nimport { MoonPhasesComponent } from './moon-phases/moon-phases.component';\nimport { Wove } from 'aspect.js/dist/lib/aspect';\nimport { LoggerAspect } from './../../aspects/logger.aspect';\n\n@Wove(LoggerAspect)\n@Component({\n  selector: 'clock',\n  // templateUrl: 'app/directives/clock/clock.component.html',\n  template: '',\n  directives: [MoonPhasesComponent]\n})\nexport class ClockComponent implements OnInit {\n\n  month:string;\n  day:string;\n  date:Date;\n  nextLeap:number;\n  monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n  dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n  constructor(private elementRef: ElementRef) {\n\n\tthis.date = new Date();\n\tthis.month = this.monthNames[this.date.getMonth()];\n\tthis.day = this.dayNames[this.date.getDay()] + \" \" + this.date.getDate();\n\n\tthis.nextLeap = this.date.getFullYear();\n\n\twhile(!this.isLeapYear(this.nextLeap)){\n\t\tthis.nextLeap++;\n\t}\n  }\n\n  ngAfterViewInit() {\n\t  this.initLocalClocks();\n  } \n\n  isLeapYear(year:number){\n\treturn ((year % 4 == 0) && (year % 100 != 0)) || (year % 400 == 0);\n  }\n\n  initLocalClocks() {\n\n    var milliseconds = this.date.getMilliseconds();\n\tvar seconds = this.date.getSeconds();\n\tvar minutes = this.date.getMinutes();\n\tvar hours = this.date.getHours();\n\n\t// Create an object with each hand and it's angle in degrees\n\tvar hands = [\n\t\t{\n\t\t\thand: 'hours',\n\t\t\tangle: (hours * 30) + (minutes / 2)\n\t\t},\n\t\t{\n\t\t\thand: 'minutes',\n\t\t\tangle: (minutes * 6) + (seconds/60) * 6\n\t\t},\n\t\t{\n\t\t\thand: 'seconds',\n\t\t\tangle: (seconds * 6) + (milliseconds/1000)*6\n\t\t}\n\t];\n\n\t//Loop through each of these hands to set their angle\n\tfor (var j = 0; j < hands.length; j++) {\n\t\tvar element = this.elementRef.nativeElement.querySelector(\n\t\t\t'.' + hands[j].hand\n\t\t);\n\n\t\telement.style.webkitTransform = 'rotateZ(' + hands[j].angle + 'deg)';\n\t\telement.style.transform = 'rotateZ(' + hands[j].angle + 'deg)';\n\t}\n  }\n\n  ngOnInit() {\n  }\n\n\n\n}\n"]}